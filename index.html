<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meeting Scheduler</title>
    <style>
        :root {
            --primary-color: #4a6fa5;
            --secondary-color: #166088;
            --accent-color: #4cb5f5;
            --light-color: #f8f9fa;
            --dark-color: #343a40;
            --success-color: #28a745;
            --error-color: #dc3545;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7f9;
            color: var(--dark-color);
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        h1, h2, h3 {
            color: var(--primary-color);
            margin-bottom: 20px;
        }
        
        .scheduler-container {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }
        
        @media (min-width: 768px) {
            .scheduler-container {
                flex-direction: row;
            }
            
            .calendar-section {
                flex: 3;
            }
            
            .form-section {
                flex: 2;
            }
        }
        
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .calendar-nav {
            display: flex;
            gap: 10px;
        }
        
        button {
            cursor: pointer;
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: var(--secondary-color);
        }
        
        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        
        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
        }
        
        .calendar-weekday {
            text-align: center;
            font-weight: bold;
            padding: 10px;
            background-color: var(--light-color);
        }
        
        .calendar-day {
            padding: 10px;
            text-align: center;
            border: 1px solid #ddd;
            cursor: pointer;
            transition: all 0.2s;
            border-radius: 4px;
        }
        
        .calendar-day:hover {
            background-color: #e9ecef;
        }
        
        .calendar-day.selected {
            background-color: var(--accent-color);
            color: white;
        }
        
        .calendar-day.disabled {
            color: #cccccc;
            cursor: not-allowed;
            background-color: #f8f9fa;
        }
        
        .calendar-day.outside {
            color: #cccccc;
        }
        
        .time-slots {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }
        
        .time-slot {
            padding: 10px;
            text-align: center;
            border: 1px solid #ddd;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.2s;
        }
        
        .time-slot:hover {
            background-color: #e9ecef;
        }
        
        .time-slot.selected {
            background-color: var(--accent-color);
            color: white;
        }
        
        .time-slot.disabled {
            color: #cccccc;
            cursor: not-allowed;
            background-color: #f8f9fa;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
        }
        
        input, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }
        
        input:focus, textarea:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 2px rgba(76, 181, 245, 0.3);
        }
        
        .error {
            color: var(--error-color);
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }
        
        .success-message {
            background-color: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 4px;
            margin-top: 20px;
            display: none;
        }
        
        .log-container {
            margin-top: 30px;
            padding: 20px;
            background-color: var(--light-color);
            border-radius: 4px;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .log-entry {
            padding: 10px;
            border-bottom: 1px solid #ddd;
        }
        
        .log-entry:last-child {
            border-bottom: none;
        }
        
        .current-selection {
            background-color: #e9ecef;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Meeting Scheduler</h1>
        <p>Select a date and time for your meeting, then provide your details.</p>
        
        <div class="current-selection">
            <p><strong>Selected:</strong> <span id="selected-date">No date selected</span>, <span id="selected-time">No time selected</span></p>
        </div>
        
        <div class="scheduler-container">
            <div class="calendar-section">
                <div class="calendar-header">
                    <h2 id="current-month">September 2025</h2>
                    <div class="calendar-nav">
                        <button id="prev-month">&lt; Prev</button>
                        <button id="next-month">Next &gt;</button>
                    </div>
                </div>
                
                <div class="calendar">
                    <!-- Weekday headers -->
                    <div class="calendar-weekday">Sun</div>
                    <div class="calendar-weekday">Mon</div>
                    <div class="calendar-weekday">Tue</div>
                    <div class="calendar-weekday">Wed</div>
                    <div class="calendar-weekday">Thu</div>
                    <div class="calendar-weekday">Fri</div>
                    <div class="calendar-weekday">Sat</div>
                    
                    <!-- Days will be populated by JavaScript -->
                </div>
                
                <h3 style="margin-top: 20px;">Available Time Slots</h3>
                <div class="time-slots">
                    <!-- Time slots will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="form-section">
                <h2>Schedule Meeting</h2>
                <form id="meeting-form">
                    <div class="form-group">
                        <label for="name">Your Name</label>
                        <input type="text" id="name" placeholder="Enter your name" required>
                        <div class="error" id="name-error">Please enter your name</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Your Email</label>
                        <input type="email" id="email" placeholder="Enter your email" required>
                        <div class="error" id="email-error">Please enter a valid email</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="meeting-title">Meeting Title</label>
                        <input type="text" id="meeting-title" placeholder="Meeting purpose" required>
                        <div class="error" id="title-error">Please enter a meeting title</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="notes">Additional Notes</label>
                        <textarea id="notes" rows="3" placeholder="Any additional details"></textarea>
                    </div>
                    
                    <button type="submit" id="submit-btn">Schedule Meeting</button>
                </form>
                
                <div class="success-message" id="success-message">
                    Your meeting has been scheduled successfully! A confirmation has been logged.
                </div>
            </div>
        </div>
        
        <div class="log-container">
            <h2>Meeting Log</h2>
            <div id="meeting-log">
                <!-- Meeting log entries will be added here -->
                <div class="log-entry">No meetings scheduled yet.</div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Current date tracking
            let currentDate = new Date();
            let selectedDate = null;
            let selectedTime = null;
            
            // DOM elements
            const currentMonthElement = document.getElementById('current-month');
            const calendarElement = document.querySelector('.calendar');
            const timeSlotsElement = document.querySelector('.time-slots');
            const prevMonthButton = document.getElementById('prev-month');
            const nextMonthButton = document.getElementById('next-month');
            const selectedDateElement = document.getElementById('selected-date');
            const selectedTimeElement = document.getElementById('selected-time');
            const meetingForm = document.getElementById('meeting-form');
            const meetingLog = document.getElementById('meeting-log');
            
            // Available time slots (9 AM to 5 PM in 30-minute increments)
            const generateTimeSlots = function() {
                const slots = [];
                for (let hour = 9; hour <= 16; hour++) {
                    for (let minute = 0; minute < 60; minute += 30) {
                        const timeString = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;
                        const displayTime = `${hour % 12 === 0 ? 12 : hour % 12}:${minute.toString().padStart(2, '0')} ${hour >= 12 ? 'PM' : 'AM'}`;
                        slots.push({ value: timeString, display: displayTime });
                    }
                }
                return slots;
            };
            
            const timeSlots = generateTimeSlots();
            
            // Initialize calendar
            function renderCalendar() {
                // Set month/year heading
                currentMonthElement.textContent = currentDate.toLocaleString('default', { month: 'long', year: 'numeric' });
                
                // Clear previous calendar days (except weekday headers)
                const existingDayElements = document.querySelectorAll('.calendar-day');
                existingDayElements.forEach(day => day.remove());
                
                // Get first day of month and number of days in month
                const firstDay = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1).getDay();
                const daysInMonth = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0).getDate();
                
                // Get previous month's days for padding
                const daysInPrevMonth = new Date(currentDate.getFullYear(), currentDate.getMonth(), 0).getDate();
                
                // Add empty cells for days before the first day of the month
                for (let i = 0; i < firstDay; i++) {
                    const dayElement = document.createElement('div');
                    dayElement.className = 'calendar-day outside';
                    dayElement.textContent = daysInPrevMonth - firstDay + i + 1;
                    calendarElement.appendChild(dayElement);
                }
                
                // Add cells for current month's days
                const today = new Date();
                today.setHours(0, 0, 0, 0);
                
                for (let i = 1; i <= daysInMonth; i++) {
                    const dayElement = document.createElement('div');
                    dayElement.className = 'calendar-day';
                    dayElement.textContent = i;
                    
                    const cellDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), i);
                    
                    // Disable past dates
                    if (cellDate < today) {
                        dayElement.classList.add('disabled');
                    } else {
                        dayElement.addEventListener('click', function() {
                            selectDate(cellDate);
                        });
                    }
                    
                    // Highlight today
                    if (cellDate.getTime() === today.getTime()) {
                        dayElement.style.border = '2px solid var(--accent-color)';
                    }
                    
                    // Highlight selected date
                    if (selectedDate && cellDate.getTime() === selectedDate.getTime()) {
                        dayElement.classList.add('selected');
                    }
                    
                    calendarElement.appendChild(dayElement);
                }
                
                // Calculate how many cells we have so far
                const totalCells = firstDay + daysInMonth;
                const remainingCells = 42 - totalCells; // 6 rows x 7 days = 42 cells
                
                // Add empty cells for next month if needed
                for (let i = 1; i <= remainingCells; i++) {
                    const dayElement = document.createElement('div');
                    dayElement.className = 'calendar-day outside';
                    dayElement.textContent = i;
                    calendarElement.appendChild(dayElement);
                }
            }
            
            // Render time slots
            function renderTimeSlots() {
                timeSlotsElement.innerHTML = '';
                
                timeSlots.forEach(slot => {
                    const slotElement = document.createElement('div');
                    slotElement.className = 'time-slot';
                    slotElement.textContent = slot.display;
                    slotElement.dataset.time = slot.value;
                    
                    // Check if this time slot is in the past for the selected date
                    if (selectedDate) {
                        const today = new Date();
                        const selectedDateTime = new Date(selectedDate);
                        const [hours, minutes] = slot.value.split(':');
                        selectedDateTime.setHours(parseInt(hours), parseInt(minutes));
                        
                        if (selectedDateTime < today) {
                            slotElement.classList.add('disabled');
                        } else {
                            slotElement.addEventListener('click', function() {
                                selectTime(slot.value, slot.display);
                            });
                        }
                    } else {
                        slotElement.classList.add('disabled');
                    }
                    
                    // Highlight if selected
                    if (selectedTime === slot.value) {
                        slotElement.classList.add('selected');
                    }
                    
                    timeSlotsElement.appendChild(slotElement);
                });
            }
            
            // Date selection handler
            function selectDate(date) {
                selectedDate = date;
                selectedTime = null;
                
                // Update UI
                selectedDateElement.textContent = date.toLocaleDateString();
                selectedTimeElement.textContent = 'No time selected';
                
                // Re-render calendar to update selection highlight
                renderCalendar();
                renderTimeSlots();
            }
            
            // Time selection handler
            function selectTime(time, displayTime) {
                selectedTime = time;
                selectedTimeElement.textContent = displayTime;
                
                // Update UI
                renderTimeSlots();
            }
            
            // Form submission handler
            meetingForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Validate form
                let isValid = true;
                
                const name = document.getElementById('name').value;
                const email = document.getElementById('email').value;
                const title = document.getElementById('meeting-title').value;
                
                if (!name) {
                    document.getElementById('name-error').style.display = 'block';
                    isValid = false;
                } else {
                    document.getElementById('name-error').style.display = 'none';
                }
                
                if (!email || !isValidEmail(email)) {
                    document.getElementById('email-error').style.display = 'block';
                    isValid = false;
                } else {
                    document.getElementById('email-error').style.display = 'none';
                }
                
                if (!title) {
                    document.getElementById('title-error').style.display = 'block';
                    isValid = false;
                } else {
                    document.getElementById('title-error').style.display = 'none';
                }
                
                if (!selectedDate || !selectedTime) {
                    alert('Please select both a date and time for your meeting.');
                    isValid = false;
                }
                
                if (!isValid) return;
                
                // Create meeting object
                const meeting = {
                    name,
                    email,
                    title,
                    notes: document.getElementById('notes').value,
                    date: selectedDate.toLocaleDateString(),
                    time: selectedTime,
                    timestamp: new Date().toISOString()
                };
                
                // Log meeting (in a real application, this would be sent to a server)
                logMeeting(meeting);
                
                // In a real application, you would send an email here
                // For demo purposes, we'll just show a success message
                document.getElementById('success-message').style.display = 'block';
                
                // Reset form after a delay
                setTimeout(() => {
                    meetingForm.reset();
                    document.getElementById('success-message').style.display = 'none';
                }, 3000);
            });
            
            // Email validation
            function isValidEmail(email) {
                const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return re.test(email);
            }
            
            // Log meeting to the UI
            function logMeeting(meeting) {
                // Remove "no meetings" message if it exists
                if (meetingLog.querySelector('.log-entry').textContent === 'No meetings scheduled yet.') {
                    meetingLog.innerHTML = '';
                }
                
                const logEntry = document.createElement('div');
                logEntry.className = 'log-entry';
                logEntry.innerHTML = `
                    <strong>${meeting.title}</strong> scheduled for ${meeting.date} at ${meeting.time}<br>
                    <small>With: ${meeting.name} (${meeting.email})</small>
                    ${meeting.notes ? `<br><small>Notes: ${meeting.notes}</small>` : ''}
                `;
                
                meetingLog.prepend(logEntry);
            }
            
            // Month navigation
            prevMonthButton.addEventListener('click', function() {
                currentDate.setMonth(currentDate.getMonth() - 1);
                renderCalendar();
            });
            
            nextMonthButton.addEventListener('click', function() {
                currentDate.setMonth(currentDate.getMonth() + 1);
                renderCalendar();
            });
            
            // Disable previous month button if we're viewing the current month
            function updateNavButtons() {
                const today = new Date();
                const viewingCurrentMonth = 
                    currentDate.getMonth() === today.getMonth() && 
                    currentDate.getFullYear() === today.getFullYear();
                
                prevMonthButton.disabled = viewingCurrentMonth;
            }
            
            // Initial render
            renderCalendar();
            renderTimeSlots();
            updateNavButtons();
        });
    </script>
</body>
</html>
